<html>
<head>
  <title>Project Euler, Problem 29: Distinct Powers</title>
  <style>
    body {
      background-image: linear-gradient(to right, blue , white);
    }

    #header {
      font-size: 2em;
      font-weight: bold;
      text-align: center;

      color: white;
      text-shadow: 2px 0px black,
                   0px 2px black,
                   -2px 0px black,
                   0px -2px black;
    }

    #problemNumber {
      font-size: 1.5em;
      text-align: center;
      color: white;
      text-shadow: 2px 0px black,
                   0px 2px black,
                   -2px 0px black,
                   0px -2px black;
    }

    #links {
      margin: auto;
      margin-bottom: 10px;
      font-size: 1.25em;
      text-align: center;
      color: white;
      text-shadow: 2px 0px black,
                   0px 2px black,
                   -2px 0px black,
                   0px -2px black;
    }

    a:visited, a:link {
      color: white;
      text-decoration: none;
    }

    #workArea {
      margin: auto;
      width: 50vw;
      border: 3px solid black;
      border-radius: 5px;
      padding: 5px;
      background-color: white;
      box-shadow: -10px 10px 10px;
    }

    .example {
      text-align: center;
    }

    .inset {
      margin-left: 1em;
    }

    #explanation {
      visibility: hidden;
    }

    #problem {
      text-align: center;
      border: 2px solid black;
      border-radius: 5px;
      width: 105px;
      cursor: default;
    }
  </style>
</head>
<body>
  <p id="header"><a href="https://dkallen78.github.io/Project-Euler-Files/projectEulerIndex.html">Project Euler</a></p>
  <!--<p id="problemNumber">
    <a href="https://projecteuler.net/problem=10">Problem 10: Sumation of Primes</a><br />
    (Prime Seive)
  </p>
  <div id="links">
    <a href="https://dkallen78.github.io/Project-Euler-Files/Problem10.html">Problem 10 (Primality Test)</a> -
    <a href="https://dkallen78.github.io/Project-Euler-Files/Problem11.html">Problem 11</a>
  </div>-->
  <div id="workArea">
    <p>
      Consider all integer combinations of 𝒂<sup>𝒃</sup> for 2 ≤ 𝒂 ≤ 5 and 2 ≤ 𝒃 ≤ 5:
      <div class="inset">
        2²=4, 2³=8, 2⁴=16, 2⁵=32<br />
        3²=9, 3³=27, 3⁴=81, 3⁵=243<br />
        4²=16, 4³=64, 4⁴=256, 4⁵=1024<br />
        5²=25, 5³=125, 5⁴=625, 5⁵=3125<br /><br />
      </div>
      If they are then placed in numerical order, with any repeats removed, we get
      the following sequence of 15 distinct terms:<br /><br />
      <div class="example">
        4, 8, 9, 16, 25, 27, 32, 64, 81, 125, 243, 256, 625, 1024, 3125<br /><br />
      </div>
      How many distinct terms are in the sequence generated by 𝒂<sup>𝒃</sup> for
      2 ≤ 𝒂 ≤ 100 and 2 ≤ 𝒃 ≤ 100?
      <br /><br />
    </p>
  <div id="problem" onclick="projectEulerProblem29()">
    Find Terms
  </div>
  <div id="explanation">
    <br />
    <div id="totalTime"></div>
    <p>
      The tricky part of this problem was getting JavaScript to handle 𝔹𝕀𝔾<sup>®</sup>
      numbers. Thankfully the BigInt is here and it made things a bit easier. I made
      two helper functions to put my numbers in an array and another to check if my
      numbers were in the array.
      <br /><br />
      I run two nested for loops and compute every power, checking and inserting as
      I go.
      <br /><br />
      103,541
    </p>
  </div>
</body>
<script>
  function projectEulerProblem29() {
    //103541
    let startTime = new Date();
    let powers = 100

    let distPowers = [];

    //
    //These nested loops run through every possible
    //combination of bases and exponents
    for (let i = 2n; i < powers + 1; i++) {
      for (let j = 2n; j < powers + 1; j++) {
        let power = i ** j;

        //
        //Checks to see if a number is in my array
        if (!isItIn(power, distPowers)) {
          putItIn(power, distPowers);
        }
      }
    }

    let endTime = new Date();
    let totalTime = endTime - startTime;
    document.getElementById("totalTime").innerHTML = totalTime + " ms";
    document.getElementById("explanation").style.visibility = "visible";
    document.getElementById("problem").innerHTML = distPowers.length;
  }

  function isItIn(power, distPowers) {
    //----------------------------------------------------//
    //Checks to see if a BigInt is in an array of BigInts //
    //BigInt-> power: product of my base and exponent     //
    //array-> distPowers: list of all products thus far   //
    //----------------------------------------------------//

    let run = true;
    let index = 0;
    while (run === true) {
      //
      //If we reach the end of the list we return false
      if (index === distPowers.length) {
        return false;
      }
      //
      //If we find a match we return true
      if (distPowers[index] === power) {
        return true;
      }
      index++;
    }
  }

  function putItIn(power, distPowers) {
    //----------------------------------------------------//
    //Puts a BigInt into an array in numerical order      //
    //BigInt-> power: product of my base and exponent     //
    //array-> distPowers: list of all products thus far   //
    //----------------------------------------------------//

    let run = true;
    let index = 0;
    while (run === true) {
      //
      //If there's nothing in the array, replace the 0 index
      if (distPowers[index] === undefined) {
        distPowers[index] = power;
        run = false;
      //
      //If the number in the array is bigger than our product,
      //insert the product before the larger number
      } else if (distPowers[index] > power) {
        distPowers.splice(index, 0, power);
        run = false;
      //
      //If none of the elements were larger than our product,
      //put it in at the end
      } else {
        distPowers.push(power);
        run = false;
      }
      index++;
    }
  }

</script>
</html>
