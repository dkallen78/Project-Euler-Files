<html>
<head>
  <title>
    Project Euler, Problem 14: Longest Collatz Sequence
  </title>
  <link rel="stylesheet" type="text/css" href="eulerStyle.css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <p id="header"><a href="https://dkallen78.github.io/Project-Euler-Files/projectEulerIndex.html">Project Euler</a></p>
  <p id="problemNumber">
    <a href="https://projecteuler.net/problem=14">Problem 14: Longest Collatz Sequence</a><br />
    (Brute Force)<br />
  </p>
  <div id="links">
    <a href="https://dkallen78.github.io/Project-Euler-Files/Problem13.html">Problem 13</a> -
    <a href="https://dkallen78.github.io/Project-Euler-Files/Problem14.1.html">Problem 14 (Stored Values)</a>
  </div>
  <div id="workArea">
    <p>
      The following iterative sequence is defined for the set of positive integers:
      <br />
      <div class="inset">
        n → n/2 (n is even)<br />
        n → 3n + 1 (n is odd)<br />
      </div>
      <br />
      Using the rule above and starting with 13, we generate the following sequence:
      <br /><br />
      <div class="example">
        13 → 40 → 20 → 10 → 5 → 16 → 8 → 4 → 2 → 1<br />
      </div>
      <br />
      It can be seen that this sequence (starting at 13 and finishing at 1) contains 10 terms.
      Although it has not been proved yet (Collatz Problem), it is thought that all starting numbers finish at 1.
      <br /><br />
      Which starting number, under one million, produces the longest chain?
      <br /><br />
      <span class="bold">NOTE:</span> Once the chain starts the terms are allowed to go above one million.
    </p>
    <div id="problem" onclick="projectEulerProblem14()">
      Find Number
    </div>
    </br>
    <div id="explanation">
      <br />
      <div id="totalTime"></div>
      <p>
        I take the straight-forward approach and calculate the sequence of each number up to 1,000,000.
        <br /><br />
        I use a while loop to run through the sequence until I reach one and I store the longest sequence
        and the number that produced it as I go along.
        <br /><br />
        ###,###
      </p>
    </div>
  </div>
</body>
<script>

  var longestChain = 0;
  var longestSeed = 0

  function projectEulerProblem14() {
    var startTime = new Date();

    let limit = 1000000;

    let collatz = 0;
    for (let x = 1; x < limit; x++) {
      collatz = getCollatz(x);
      if (collatz > longestChain) {
        longestChain = collatz;
        longestSeed = x;
      }
    }

    var endTime = new Date();
    var totalTime = endTime - startTime;
    document.getElementById("totalTime").innerHTML = totalTime + " ms";
    document.getElementById("explanation").style.visibility = "visible";
    document.getElementById("problem").innerHTML = longestSeed;
    console.log("Number with longest chain: " + longestSeed);
    console.log("Chain length: " + longestChain);
  }

  function getCollatz(start) {

    var stepCounter = 1;
    var originalStart = start;

    while (start !== 1) {

      if ((start % 2) === 0) {
        start /= 2;
      } else {
        start = (start * 3) + 1;
      }

      stepCounter++;

    }
    return stepCounter;

  }
</script>
</html>
